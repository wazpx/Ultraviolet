function searchGoogle() {
  const query = document.getElementById('search-input').value;
  openSite(`https://www.google.com/search?q=${encodeURIComponent(query)}`);
}

function openSite(url) {
  document.getElementById('home-screen').style.display = 'none';
  document.getElementById('browser-area').style.display = 'block';
  createTab(url);
}

function createTab(url) {
  const tabs = document.getElementById('tabs');

  const tab = document.createElement('div');
  tab.className = 'tab';
  tab.textContent = url.replace('https://', '').replace('www.', '').split('.')[0];
  tab.onclick = () => {
    document.getElementById('browser-frame').src = url;
    setActiveTab(tab);
  };
  
  tabs.appendChild(tab);
  tab.click(); // auto switch to new tab
}

function setActiveTab(tab) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  tab.classList.add('active');
}

function goBack() {
  const frame = document.getElementById('browser-frame');
  frame.contentWindow.history.back();
}

function goHome() {
  document.getElementById('browser-area').style.display = 'none';
  document.getElementById('home-screen').style.display = 'flex';
}

function openSettings() {
  alert("Settings are coming soon!");
}

function toggleFullScreen() {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}
